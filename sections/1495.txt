var __v="\n\u003cpre class='prettyprint linenums'\u003e#include\u0026lt;opencv2\\imgproc\\imgproc.hpp\u0026gt;\n#include\u0026lt;opencv2\\core\\core.hpp\u0026gt;\n#include\u0026lt;opencv2\\highgui\\highgui.hpp\u0026gt;\n\nusing namespace cv;\n\n/// 全局变量\nMat src, erosion_dst, dilation_dst;\n\nint erosion_elem = 0;\nint erosion_size = 0;\nint dilation_elem = 0;\nint dilation_size = 0;\nint const max_elem = 2;\nint const max_kernel_size = 21;\n\n/** Function Headers */\nvoid Erosion( int, void* );\nvoid Dilation( int, void* );\n\n/** @function main */\nint main( int argc, char** argv )\n{\n  /// Load 图像\n  src = imread( \"123.jpg\" );\n\n  if( !src.data )\n  { return -1; }\n\n  /// 创建显示窗口\n  namedWindow( \"Erosion Demo\", CV_WINDOW_AUTOSIZE );\n  namedWindow( \"Dilation Demo\", CV_WINDOW_AUTOSIZE );\n  cvMoveWindow( \"Dilation Demo\", src.cols, 0 );\n\n  /// 创建腐蚀 Trackbar\n  createTrackbar( \"Element:\\n 0: Rect \\n 1: Cross \\n 2: Ellipse\", \"Erosion Demo\",\n                  \u0026amp;erosion_elem, max_elem,\n                  Erosion );\n\n  createTrackbar( \"Kernel size:\\n 2n +1\", \"Erosion Demo\",\n                  \u0026amp;erosion_size, max_kernel_size,\n                  Erosion );\n\n  /// 创建膨胀 Trackbar\n  createTrackbar( \"Element:\\n 0: Rect \\n 1: Cross \\n 2: Ellipse\", \"Dilation Demo\",\n                  \u0026amp;dilation_elem, max_elem,\n                  Dilation );\n\n  createTrackbar( \"Kernel size:\\n 2n +1\", \"Dilation Demo\",\n                  \u0026amp;dilation_size, max_kernel_size,\n                  Dilation );\n\n  /// Default start\n  Erosion( 0, 0 );\n  Dilation( 0, 0 );\n\n  waitKey(0);\n  return 0;\n}\n\n/**  @function Erosion  */\nvoid Erosion( int, void* )\n{\n  int erosion_type;\n  if( erosion_elem == 0 ){ erosion_type = MORPH_RECT; }\n  else if( erosion_elem == 1 ){ erosion_type = MORPH_CROSS; }\n  else if( erosion_elem == 2) { erosion_type = MORPH_ELLIPSE; }\n\n  Mat element = getStructuringElement( erosion_type,\n                                       Size( 2*erosion_size + 1, 2*erosion_size+1 ),\n                                       Point( erosion_size, erosion_size ) );\n\n  /// 腐蚀操作\n  erode( src, erosion_dst, element );\n  imshow( \"Erosion Demo\", erosion_dst );\n}\n\n/** @function Dilation */\nvoid Dilation( int, void* )\n{\n  int dilation_type;\n  if( dilation_elem == 0 ){ dilation_type = MORPH_RECT; }\n  else if( dilation_elem == 1 ){ dilation_type = MORPH_CROSS; }\n  else if( dilation_elem == 2) { dilation_type = MORPH_ELLIPSE; }\n\n  Mat element = getStructuringElement( dilation_type,\n                                       Size( 2*dilation_size + 1, 2*dilation_size+1 ),\n                                       Point( dilation_size, dilation_size ) );\n  ///膨胀操作\n  dilate( src, dilation_dst, element );\n  imshow( \"Dilation Demo\", dilation_dst );\n}\u003c/pre\u003e"