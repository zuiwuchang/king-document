var __v="\n\u003cpre class='prettyprint linenums'\u003eint _tmain(int argc, _TCHAR* argv[])\n{\n\t//待變換圖像\n\tcv::Mat mat\t\t=\tcv::imread(\"123.bmp\");\n\tdouble a\t=\t2.0;\t//[1.0,3.0]\n\tint b\t\t=\t50;\t\t//[0,100]\n\n\t//執行 a * image + b \n\n\t//cv::Mat new_image = cv::Mat::zeros(mat.size(), mat.type() );\n\t//int rows\t=\tmat.rows;\n\t//int cols\t=\tmat.cols;\n\t//for(int i = 0; i \u0026lt; rows; ++i)\n\t//{\n\t//\tfor(int j = 0; j \u0026lt; cols; ++j)\n\t//\t{\n\t//\t\tfor(int c=0;c\u0026lt;3;++c)\n\t//\t\t{\n\t//\t\t\tnew_image.at\u0026lt;cv::Vec3b\u0026gt;(i,j)[c]\t=\t\n\t//\t\t\t\tcv::saturate_cast\u0026lt;uchar\u0026gt;\t//結果可能越界 用此函數轉換\n\t//\t\t\t\t(a * mat.at\u0026lt;cv::Vec3b\u0026gt;(i,j)[c] + b);\n\t//\t\t}\n\t//\t}\n\t//}\n\t//mat\t=\tnew_image;\n\tmat.convertTo(mat, -1, a, b);\t\n\t\n\tcv::namedWindow(\"test\");\n\tcv::imshow(\"test\",mat);\n\tcv::waitKey(0);\n\tcv::destroyWindow(\"test\");\n\n\tstd::system(\"pause\");\n\treturn 0;\n}\u003c/pre\u003e"