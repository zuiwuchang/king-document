var __v="\n\u003cpre class='prettyprint linenums'\u003e//c\n\n//函數定義\nstatic int sum(lua_State* L)\n{\n\tint left\t=\tlua_tointeger(L,1);\n\tint right\t=\tlua_tointeger(L,2);\n\tlua_pushinteger(L,left+right);\n\treturn 1;\n}\nint _tmain(int argc, _TCHAR* argv[])\n{\n\t/*打開lua*/\n\tlua_State* L\t=\tluaL_newstate();\n\t//打開標準庫\n\tluaL_openlibs(L);\n\n\t//為lua註冊函數\n\tlua_pushcfunction(L,sum);\n\tlua_setglobal(L,\"sum\");\n\n\tluaL_loadfile(L,\"test.lua\");\n\tlua_pcall(L,0,0,0);\n\t\n\tlua_close(L);\t//釋放環境\n\n\tstd::system(\"pause\");\n\treturn 0;\n}\n\n\n\n--lua\nprint(sum(1,2))\u003c/pre\u003e"