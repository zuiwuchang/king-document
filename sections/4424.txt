var __v="\n\u003cpre class='prettyprint linenums'\u003e//func (c App) Echo(rws revel.ServerWebSocket) revel.Result {\n//\tws := rws.(*revel.GoWebSocket).Conn\nfunc (c App) Echo(rws *revel.GoWebSocket) revel.Result {\n\tws := rws.Conn\n\tfmt.Println(\"websocket in\", ws.LocalAddr(), ws.RemoteAddr())\n\tvar e error\n\tvar reply string\n\tfor {\n\t\tif e = websocket.Message.Receive(ws, \u0026amp;reply); e != nil {\n\t\t\tfmt.Println(\"Can't receive\")\n\t\t\tbreak\n\t\t}\n\n\t\tfmt.Println(\"Received back from client: \" + reply)\n\n\t\tmsg := \"Received:  \" + reply\n\t\tfmt.Println(\"Sending to client: \" + msg)\n\t\tif e = websocket.Message.Send(ws, msg); e != nil {\n\t\t\tfmt.Println(\"Can't send\")\n\t\t\tbreak\n\t\t}\n\t}\n\n\tfmt.Println(\"websocket out\", ws.LocalAddr())\n\treturn nil\n}\n\u003c/pre\u003e"