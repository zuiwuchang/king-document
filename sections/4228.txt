var __v="\n\u003cpre class='prettyprint linenums'\u003epackage main\n\n/*\n#include \u0026lt;stdio.h\u0026gt;\n#include \u0026lt;stdlib.h\u0026gt;\nint sum(int l,int r){\n\treturn l+r;\n}\nconst char* get_version(){\n\treturn \"test_cgo0.0.1\";\n}\nvoid show_binary(char* b,int n){\n\tfor(int i=0;i\u0026lt;n;++i){\n\t\tprintf(\"%02X \",b[i]);\n\t}\n\tputs(\"\");\n}\nchar binary[10]={1,2,3,4,5,6,7,8,9,10};\nchar* get_binary(int* n){\n\t*n = 10;\n\treturn binary;\n}\n*/\nimport \"C\"\n\nimport (\n\t\"fmt\"\n\t\"unsafe\"\n)\n\nfunc main() {\n\tfmt.Println(\"****\tgo 調用 c\t****\")\n\t//傳入 一般型別\n\tsum := int(C.sum(C.int(1), C.int(2)))\n\tfmt.Println(\"sum =\", sum)\n\n\t//傳入字符串\n\tcStr := C.CString(\"傳入字符串\") //轉化到 c 字符串\n\tC.puts(cStr)\n\tC.free(unsafe.Pointer(cStr)) //釋放 c 字符串\n\n\t//傳出字符串\n\tfmt.Println(\"傳出字符串\", C.GoString(C.get_version()))\n\n\t//傳入 二進制\n\tb := make([]byte, 10)\n\tfor i := 0; i \u0026lt; len(b); i++ {\n\t\tb[i] = byte(i) + 1\n\t}\n\tcBytes := C.CBytes(b)\n\tC.show_binary((*C.char)(cBytes), (C.int)(len(b)))\n\tC.free(cBytes)\n\n\t//傳出 二進制\n\tvar n int\n\tp := C.get_binary((*C.int)(unsafe.Pointer(\u0026amp;n)))\n\tb = C.GoBytes(unsafe.Pointer(p), C.int(n))\n\tfmt.Println(n, b)\n}\n\u003c/pre\u003e"