var __v="\n\u003cpre class='prettyprint linenums'\u003eint GetOSVer()  \n{  \n\tOSVERSIONINFO   osver;     \n\tosver.dwOSVersionInfoSize   =   sizeof(OSVERSIONINFO);     \n\tGetVersionEx(\u0026amp;osver);     \n\tif(osver.dwPlatformId == 2)  \n\t{  \n\t\tif(osver.dwMajorVersion == 5 \u0026amp;\u0026amp; osver.dwMinorVersion == 1)  \n\t\t{  \n\t\t\tprintf(\"xp\\n\");  \n\t\t\treturn(2);  \n\t\t}  \n\t\tif(osver.dwMajorVersion == 5 \u0026amp;\u0026amp; osver.dwMinorVersion == 2)  \n\t\t{  \n\t\t\tprintf(\"windows 2003\\n\");  \n\t\t\treturn(3);  \n\t\t}  \n\t\tif(osver.dwMajorVersion ==  6 \u0026amp;\u0026amp; osver.dwMinorVersion == 0)  \n\t\t{  \n\t\t\tprintf(\"vista and 2008\\n\");  \n\t\t\treturn(4);  \n\t\t}  \n\t\tif(osver.dwMajorVersion ==  6 \u0026amp;\u0026amp; osver.dwMinorVersion == 1)  \n\t\t{  \n\t\t\tprintf(\"2008 R2 and Windows 7\\n\");  \n\t\t\treturn(5);  \n\t\t}  \n\t}  \n\treturn 0;  \n}\u003c/pre\u003e\n\n\u003cimg src='/sections/2709/image/version.png' style=\"max-width: 100%;\"\u003e"