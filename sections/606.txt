var __v="\u003cpre class=\"prettyprint linenums\"\u003e//基類定義\nvar animation\t=\t{\n\tcreate:function(){\n\t\tvar instance\t=\t{};\n\t\t\n\t\tinstance.name\t=\t\"animation\";\n\t\tinstance.action\t=\tfunction(){\n\t\t\t\talert(\"i'm \" + instance.name + \"\\naction\");\n\t\t\t};\n\t\t\n\t\treturn instance;\n\t}\n};\n\n//派生子類\nvar cat\t=\t{\n\t//static\n\ttotal:0\n\t,total_instance:function(){\n\t\talert(this.total + \" instance\");\n\t}\n\t,create:function(){\n\t\t//從父類 派生\n\t\tvar instance\t=\tanimation.create();\n\t\t\n\t\t//定義 private 屬性 方法\n\t\tvar sum\t=\t0;\n\t\n\t\t//覆蓋父類方法 相當於 c++ virtual function\n\t\tinstance.action\t=\tfunction(){\n\t\t\t\t\n\t\t\t\talert(\"i'm \" + instance.name + \"\\ncat action\"\n\t\t\t\t+ \"\\ni total action \" + ++sum\n\t\t\t\t);\n\t\t\t};\n\t\t\n\t\t++this.total;\n\t\treturn instance;\n\t}\n\t\n};\n\n\n$(document).ready(function(){\n\tvar arr\t=\tnew Array();\n\tarr[0]\t=\tanimation.create();\n\tarr[1]\t=\tcat.create();\n\tarr[2]\t=\tcat.create();\n\t\n\t$.each(arr,function(index,object){\n\t\t\tobject.action();\n\t\t});\n\t\n\tfor(i=0;i\u0026lt;5;++i){\n\t\tarr[1].action();\n\t}\n\n\tcat.total_instance();\n});\u003c/pre\u003e"