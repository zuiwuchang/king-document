var __v="\n\u003cpre class='prettyprint linenums'\u003ecase WM_PAINT:\n{\t\t\t\n\tIDWriteFactory* pIDWriteFactory = NULL;\n\t//創建DirectWrite\n\tassert(S_OK\t==\tDWriteCreateFactory(DWRITE_FACTORY_TYPE_SHARED\n\t\t,__uuidof(IDWriteFactory)\n\t\t,reinterpret_cast\u0026lt;IUnknown**\u0026gt;(\u0026amp;pIDWriteFactory)\n\t\t)\n\t\t);\n\t//創建字體\n\tIDWriteTextFormat* pTextFormat = NULL;\n\tassert(S_OK\t==\tpIDWriteFactory-\u0026gt;CreateTextFormat(L\"Gabriola\"\t\t//字體名\n\t\t,NULL\t\t\t\t\t\t\t\t\t\t\t// Font collection(NULL sets it to the system font collection)\n\t\t,DWRITE_FONT_WEIGHT_REGULAR\t\t\t\t\t\t// Weight\n\t\t,DWRITE_FONT_STYLE_NORMAL\t\t\t\t\t\t// Style\n\t\t,DWRITE_FONT_STRETCH_NORMAL\t\t\t\t\t\t// Stretch\n\t\t,50.0f\t\t\t\t\t\t\t\t\t\t\t// Size    \n\t\t,L\"chs\"\t\t\t\t\t\t\t\t\t\t\t// Local\n\t\t,\u0026amp;pTextFormat\t\t\t\t\t\t\t\t\t// Pointer to recieve the created object\n\t\t)\n\t\t);\n\n\tstd::wstring text\t=\tL\"這是草泥馬的 text 測試\";\n\n\td2d_target_ptr-\u0026gt;BeginDraw();\n\td2d_target_ptr-\u0026gt;Clear(D2D1::ColorF(D2D1::ColorF::DarkBlue));\t//以指定顏色 清除背景\n\n\t\td2d_target_ptr-\u0026gt;DrawTextW(text.c_str()\n\t\t\t,text.size()\n\t\t\t,pTextFormat\n\t\t\t,D2D1::RectF(100,100,200,200)\t\t//文本輸出矩形\n\t\t\t,d2d_brush_ptr\n\t\t\t);\n\t\n\td2d_target_ptr-\u0026gt;EndDraw();\t//成功繪製返回 S_OK\t\n\t\n\tpIDWriteFactory \u0026amp;\u0026amp; pIDWriteFactory-\u0026gt;Release();\n\tpTextFormat \u0026amp;\u0026amp; pTextFormat-\u0026gt;Release();\n}\nbreak;\u003c/pre\u003e"