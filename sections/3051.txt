var __v="\n\u003cpre class='prettyprint linenums'\u003e//插入 並返回新的 root 節點\nfunc Insert(root *Element, k, v int) *Element {\n\t//創建 新 節點\n\tz := \u0026amp;Element{K: k, V: v}\n\n\t//記錄 z 的 父節點\n\tvar y *Element\n\t//當前 位置\n\tx := root\n\tfor x != nil {\n\t\tif x.K == k {\n\t\t\t//已經存在key 直接替換\n\t\t\tx.V = v\n\t\t\treturn root\n\t\t}\n\n\t\ty = x\n\t\tif k \u0026lt; x.K {\n\t\t\t//比當前小 比對左子樹\n\t\t\tx = x.L\n\t\t} else {\n\t\t\t//比當前大 比對右子樹\n\t\t\tx = x.R\n\t\t}\n\t}\n\n\t//設置 父節點\n\tz.P = y\n\tif y == nil { //設置新的 root\n\t\troot = z\n\t} else if k \u0026lt; y.K {\n\t\ty.L = z\n\t} else {\n\t\ty.R = z\n\t}\n\treturn root\n}\u003c/pre\u003e"