var __v="\n\u003cpre class='prettyprint linenums'\u003euser www-data;\nworker_processes auto;\npid /run/nginx.pid;\n\nevents {\n\tworker_connections 768;\n}\n \nhttp {\n\t# 配置一個 負載 服務器 集羣\n\tupstream myServers0 {\n\t\tserver 127.0.0.1:8881;\n\t\tserver 127.0.0.1:8882;\n\t\tserver 127.0.0.1:8888;\n\t}\n\n\t# weight 指定 權值 默認 爲1\n\tupstream myServers1 {\n\t\t# 機會 1/6\n\t\tserver 127.0.0.1:8881;\n\t\t# 機會 2/6\n\t\tserver 127.0.0.1:8882 weight=2;\n\t\t# 機會 3/6\n\t\tserver 127.0.0.1:8888 weight=3;\n\t}\n\n\t# least_conn 指定優先連接 最少 連接的 服務器\n\tupstream myServers2 {\n\t\tleast_conn;\n\t\tserver 127.0.0.1:8881;\n\t\tserver 127.0.0.1:8882;\n\t\tserver 127.0.0.1:8888;\n\t}\n\t# ip_hash 相同ip請求 會被路由到 相同 後端服務器\n\tupstream myServers3 {\n\t\tip_hash;\n\t\tserver 127.0.0.1:8881;\n\t\tserver 127.0.0.1:8882;\n\t\tserver 127.0.0.1:8888;\n\t}\n\n\tserver{ \n\t\tlisten 80;\n\t\tserver_name doc.king011.com;\n\t\tlocation / {\n\t\t\tproxy_pass         http://myServers0;\n\t\t\tproxy_set_header   Host             $host;\n\t\t\tproxy_set_header   X-Real-IP        $remote_addr;\n\t\t\tproxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;\n\t\t}\n\t}\n}\u003c/pre\u003e"