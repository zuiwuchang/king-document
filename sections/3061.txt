var __v="\u003cpre class=\"k-pre\"\u003e插入代碼 基本同 sbt 只是 現在做了如下修改\n\u003c/pre\u003e\n\u003col\u003e\n\t\u003cli\u003e使用 ElementNil 替換了 nil (以保證 葉節點是 黑色)\u003c/li\u003e\n\t\u003cli\u003e插入點 設置了 顏色爲 紅色\u003c/li\u003e\n\t\u003cli\u003e在最後 調用了 InsertFixup 以維持紅黑樹的 性質\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre class='prettyprint linenums'\u003e//插入 並返回新的 root 節點\nfunc Insert(root *Element, k int) *Element {\n\t//創建 新 節點\n\tz := \u0026amp;Element{K: k, Red: true, L: ElementNil, R: ElementNil}\n\n\t//記錄 z 的 父節點\n\ty := ElementNil\n\t//當前 位置\n\tx := root\n\tfor x != ElementNil {\n\t\tif x.K == k {\n\t\t\t//已經存在key 直接替換\n\t\t\t//x.V = v\n\t\t\treturn root\n\t\t}\n\n\t\ty = x\n\t\tif k \u0026lt; x.K {\n\t\t\t//比當前小 比對左子樹\n\t\t\tx = x.L\n\t\t} else {\n\t\t\t//比當前大 比對右子樹\n\t\t\tx = x.R\n\t\t}\n\t}\n\n\t//設置 父節點\n\tz.P = y\n\tif y == nil { //設置新的 root\n\t\troot = z\n\t} else if k \u0026lt; y.K {\n\t\ty.L = z\n\t} else {\n\t\ty.R = z\n\t}\n\treturn InsertFixup(root, z)\n}\u003c/pre\u003e"