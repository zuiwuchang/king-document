var __v="\u003cpre class=\"prettyprint linenums\"\u003epackage main\n\nimport (\n\t\"fmt\"\n\t\"math/rand\"\n\t\"time\"\n)\n\n//定義 主題 接口\ntype SubjectInterface interface {\n\tAddObserver(observer ObserverInterface)\n\tDeleteObserver(observer ObserverInterface)\n\tNotifyObserver()\n}\n\n//定義 觀察者 接口\ntype ObserverInterface interface {\n\tUpdate(l, m, r int)\n}\n\n//實現 荷官\ntype Dealer struct {\n\tl, m, r int\n\n\tobservers map[ObserverInterface]bool\n}\n\nfunc (d *Dealer) AddObserver(observer ObserverInterface) {\n\tif d.observers == nil {\n\t\td.observers = make(map[ObserverInterface]bool)\n\t}\n\td.observers[observer] = true\n}\nfunc (d *Dealer) DeleteObserver(observer ObserverInterface) {\n\tif _, ok := d.observers[observer]; ok {\n\t\tdelete(d.observers, observer)\n\t}\n}\nfunc (d *Dealer) NotifyObserver() {\n\n\tfor k, _ := range d.observers {\n\t\tk.Update(d.l, d.m, d.r)\n\t}\n}\n\nfunc (d *Dealer) SetValue(l, m, r int) {\n\td.l = l\n\td.m = m\n\td.r = r\n\n\td.NotifyObserver()\n}\n\n//實現 大小 註\ntype Private struct {\n}\n\nfunc (p *Private) Update(l, m, r int) {\n\tsum := l + m + r\n\t//沒玩過 骰子的 可別 以為 10是 大哦 (10是小 因為1 2 點不存在)\n\tif sum \u0026gt; 10 {\n\t\tfmt.Printf(\"Private 大\t%v,%v,%v\\n\", l, m, r)\n\t} else {\n\t\tfmt.Printf(\"Private 小\t%v,%v,%v\\n\", l, m, r)\n\t}\n}\n\n//實現 專業 賭注\ntype Gamester struct {\n}\n\nfunc (g *Gamester) Update(l, m, r int) {\n\tsum := l + m + r\n\t//沒玩過 骰子的 可別 以為 10是 大哦 (10是小 因為1 2 點不存在)\n\tfmt.Printf(\"Gamester %v\t%v,%v,%v\\n\", sum, l, m, r)\n\n}\n\nfunc main() {\n\t//定義主題\n\td := \u0026amp;Dealer{}\n\n\t//註冊 觀察者\n\tp := \u0026amp;Private{}\n\td.AddObserver(p)\n\n\td.AddObserver(\u0026amp;Gamester{})\n\n\tfmt.Println(\"AddObserver test\")\n\td.SetValue(1, 2, 3)\n\n\tfmt.Println(\"DeleteObserver test\")\n\td.DeleteObserver(p)\n\td.SetValue(1, 2, 3)\n\n\tr := rand.New(rand.NewSource(time.Now().Unix()))\n\tfor {\n\t\t//每 [1,4) 秒 開一次 寶\n\t\ttime.Sleep(time.Duration((r.Intn(3) + 1)) * time.Second)\n\n\t\tl := r.Intn(6) + 1\n\t\tm := r.Intn(6) + 1\n\t\tr := r.Intn(6) + 1\n\t\td.SetValue(l, m, r)\n\t}\n}\n\u003c/pre\u003e"