var __v="\u003col\u003e\n\t\u003cli\u003e设置控件 Accept Files属性为true\u003c/li\u003e\n\t\u003cli\u003e窗口可直接添加WM_DROPFILES消息处理 控件 处理窗口PreTranslateMessage 函数\u003c/li\u003e\n\t\u003cli\u003e\u003cpre class='prettyprint linenums'\u003eif(pMsg-\u0026gt;hwnd==GetDlgItem(IDC_EDIT1)-\u0026gt;m_hWnd)\n{\n\tHDROP hDropInfo=(HDROP)(HDROP)pMsg-\u0026gt;wParam;\n\tunsigned int count;\n\twchar_t filepath[100];\n\tcount=::DragQueryFile(hDropInfo,0xFFFFFFFF,NULL,NULL);//首先获取文件的个数。 \n\t\n\tif(count) \n\t{  for(unsigned int i=0;i\u0026lt;count;i++)  \n\t\t{   \n\t\t\tint pathlen=::DragQueryFile(hDropInfo,i,filepath,sizeof(filepath));//获取文件路径。\t\n\t\t} \n\t } \n\tSetDlgItemText(IDC_EDIT1,filepath);\n\t\n}\u003c/pre\u003e\u003c/li\u003e\n\u003c/ol\u003e"