var __v="\n\u003cpre class='prettyprint linenums'\u003e#include \u0026lt;Poco/Net/ServerSocket.h\u0026gt;\n#include \u0026lt;Poco/Net/HTTPServer.h\u0026gt;\n#include \u0026lt;Poco/Net/HTTPRequestHandler.h\u0026gt;\n#include \u0026lt;Poco/Net/HTTPRequestHandlerFactory.h\u0026gt;\n#include \u0026lt;Poco/Net/HTTPResponse.h\u0026gt;\n#include \u0026lt;Poco/Net/HTTPServerRequest.h\u0026gt;\n#include \u0026lt;Poco/Net/HTTPServerResponse.h\u0026gt;\n#include \u0026lt;Poco/Util/ServerApplication.h\u0026gt;\n\n#include \u0026lt;string\u0026gt;\n\n\n\nclass MyRequestHandler : public Poco::Net::HTTPRequestHandler\n{\npublic:\n\tvirtual void handleRequest(Poco::Net::HTTPServerRequest \u0026amp;req, Poco::Net::HTTPServerResponse \u0026amp;res)\n\t{\n\t\t//設置 響應狀態 數據格式\n\t\tres.setStatus(Poco::Net::HTTPResponse::HTTP_OK);\n\t\tres.setContentType(\"text/html\");\n\t\t\n\t\t//返回 body\n\t\tstd::ostream\u0026amp; out = res.send();\n\t\tout\u0026lt;\u0026lt;\"hellow word\"\n\t\t\t\u0026lt;\u0026lt;\"\u0026lt;p\u0026gt;\"\u0026lt;\u0026lt;req.getMethod()\u0026lt;\u0026lt;\"\u0026lt;/p\u0026gt;\"\n\t\t\t\u0026lt;\u0026lt;\"\u0026lt;p\u0026gt;\"\u0026lt;\u0026lt;req.getHost()\u0026lt;\u0026lt;\"\u0026lt;/p\u0026gt;\"\n\t\t\t\u0026lt;\u0026lt;\"\u0026lt;p\u0026gt;\"\u0026lt;\u0026lt;req.getURI()\u0026lt;\u0026lt;\"\u0026lt;/p\u0026gt;\";\n\t\tout.flush();\n\t}\n};\n\n\nclass MyRequestHandlerFactory : public Poco::Net::HTTPRequestHandlerFactory\n{\npublic:\n\tvirtual Poco::Net::HTTPRequestHandler* createRequestHandler(const Poco::Net::HTTPServerRequest \u0026amp;)\n\t{\n\t\treturn new MyRequestHandler;\n\t}\n};\n\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n\n\tPoco::Net::HTTPServer s(new MyRequestHandlerFactory, Poco::Net::ServerSocket(9090), new Poco::Net::HTTPServerParams);\n\ts.start();\n\n\tstd::string cmd;\n\twhile(true)\n\t{\n\t\tstd::cin\u0026gt;\u0026gt;cmd;\n\t\tif(cmd == \"stop\")\n\t\t{\n\t\t\ts.stop();\n\t\t}\n\t\telse if(cmd == \"start\")\n\t\t{\n\t\t\ts.start();\n\t\t}\n\t\telse if(cmd == \"q\")\n\t\t{\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn 0;\n}\u003c/pre\u003e"