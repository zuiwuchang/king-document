var __v="\u003cpre class=\"k-pre\"\u003eduk_set_finalizer 可以為一個 js的 obj 指定一個 函數 \n當 此 obj 被釋放時 此函數被自動 調用 以便可以釋放 擴展obj的 c資源\n\nduk_ret_t my_finalizer(duk_context *ctx) {\n    /* Object being finalized is at stack index 0. */\n    printf(\"object being finalized\\n\");\n    return 0;\n}\n\n/* Create an object whose finalizer is my_finalizer(). */\nduk_push_object(ctx);\nduk_push_c_function(ctx, my_finalizer, 1 /*nargs*/);\nduk_set_finalizer(ctx, -2);\n\u003c/pre\u003e"