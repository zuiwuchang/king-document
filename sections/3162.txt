var __v="\n\u003cpre class='prettyprint linenums'\u003eclient_addr.sin_addr .S_un .S_addr=inet_addr(domain.c_str());\nclient_addr.sin_family =AF_INET;\t\nclient_addr.sin_port =htons(port);\n\nsocket_client=::socket(AF_INET,SOCK_STREAM,0);\nif(INVALID_SOCKET == socket_client)\n{\n\tdark::debug::wexception e(L\"创建套接字失败\",WSAGetLastError());\n\tthrow e;\n}\n//设置为同步阻塞方式 \n ULONG   ulArg=0;  \n int iRet = ioctlsocket(socket_client,FIONBIO,\u0026amp;ulArg);\n connect(socket_client,(SOCKADDR *)\u0026amp;client_addr,sizeof(SOCKADDR);\n\n /*\n ...send\n ...recv\n */\u003c/pre\u003e"