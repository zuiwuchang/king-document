var __v="\n\u003cpre class='prettyprint linenums'\u003etypedef NTSTATUS (WINAPI *ZwQueryInformationProcess)(\n\t__in       HANDLE ProcessHandle,\n\t__in       DWORD/*PROCESSINFOCLASS*/ ProcessInformationClass,\n\t__out      PVOID ProcessInformation,\n\t__in       ULONG ProcessInformationLength,\n\t__out_opt  PULONG ReturnLength\n);\nHANDLE handle_dll=LoadLibrary(L\"ntdll.dll\");\nif(handle_dll)\n{\n\tZwQueryInformationProcess QueryInformationProcess=(ZwQueryInformationProcess)GetProcAddress((HMODULE)handle_dll,\"ZwQueryInformationProcess\");\n\tif(QueryInformationProcess)\n\t{\n\t\tis_debug=0;\n\t\tQueryInformationProcess(handle_process,7,\u0026amp;is_debug,sizeof(is_debug),NULL);\n\t\ttmp.Format(L\"%d\\tZwQueryInformationProcess\\r\\n\",is_debug);\n\t}\n\telse\n\t{\n\t\tMessageBox(L\"无法定位函数 ZwQueryInformationProcess\");\n\t}\n}\nelse\n{\n\tMessageBox(L\"无法加载 ntdll.dll\");\n}\u003c/pre\u003e"