var __v="\u003cpre class=\"prettyprint linenums\"\u003eString str=\"this is MAC\";\nSystem.out.println(str);\n\n//初始化密匙管理类KeyGenerator\nKeyGenerator keygenerator=KeyGenerator.getInstance(\"HMACSHA512\");\n//生成密匙\nSecretKey secreKey = keygenerator.generateKey();\n//获取密匙对bytes数据 以保存或传递给他人\n//byte [] key=secreKey.getEncoded();\n//由保存的密匙对的bytes 恢复密匙对\n//SecretKey secreKey=new SecretKeySpec(key,\"HMACMD5\");\n\n//实例化mac\nMac mac=Mac.getInstance(secreKey.getAlgorithm());\n//以密匙对初始化mac\nmac.init(secreKey);\n//加密\nbyte[] data=mac.doFinal(str.getBytes());\t\nstr=new String(Hex.encode(data));\nSystem.out.println(str);\u003c/pre\u003e"