var __v="\n\u003cpre class='prettyprint linenums'\u003e#include \u0026lt;fstream\u0026gt;\n#include\u0026lt;Poco/Zip/Compress.h\u0026gt;\n#include\u0026lt;Poco/Zip/Decompress.h\u0026gt;\n\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n\tstd::wstring unicode\t=\tL\"草泥馬\\\\123.png\";\n\tstd::string utf8;\n\tdark::StringConvert::toUTF8(unicode,utf8);\t//使用 utf8 路徑 否則 解壓後 非ascill字符 將出現問題\n\n\n\t//創建二進制 輸出流\n\tstd::ofstream out(\"test.zip\", std::ios::binary);\n\n\tPoco::Zip::Compress compress(out,true);\n\t//增加一個文件\n\tPoco::Path aFile(\"123.png\");\n\tcompress.addFile(aFile\n\t\t//,\"草泥馬\\\\123.png\"\t//文件在zip包中 路徑 (文件夾將自動創建)\n\t\t,utf8\n\t\t);\n\n\t//增加一個空文件夾\n\tPoco::Path directory(\"a\\\\directory\");\t//自己創建路徑\n\tdirectory.makeDirectory();\t\t\t\t//必須調用此函數\n\tcompress.addDirectory(directory,Poco::DateTime());\n\t\n\tcompress.close();\n\tout.close();\n\n\t//解壓全部文件\n\tstd::ifstream in(\"test.zip\", std::ios::binary);\n\tif(in.is_open())\n\t{\n\t\ttry\n\t\t{\n\t\t\tPoco::Zip::Decompress dec(in\n\t\t\t\t,Poco::Path()\t\t\t\t//解壓到當前路徑\n\t\t\t\t//,Poco::Path(\"b\\\\\")\t\t//解壓到指定路徑\n\t\t\t\t); \n\t\t\tdec.decompressAllFiles();\n\t\t\t\n\t\t} \n\t\tcatch(const Poco::FileException\u0026amp;)\n\t\t{\n\t\t}\n\t\tin.close();\n\t}\n\tstd::system(\"pause\");\n\treturn 0;\n}\u003c/pre\u003e"