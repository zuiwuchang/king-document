var __v="\u003cpre class=\"k-pre\"\u003efinal String KEY_ALGORITHM=\"RSA\";\t//算法名主要用于产生密钥对\t\t\nfinal int KEY_SIZE=1024;\t\t\t\t//密钥长度\n\t\t\nfinal String  SIGNATURE=\"MD5withRSA\";\t//签名算法名\n\t\t\nKeyPairGenerator keyPairGen=KeyPairGenerator.getInstance(KEY_ALGORITHM);\t\nkeyPairGen.initialize(KEY_SIZE);\t\t\t\t\t\t//初始化密钥工厂\nKeyPair keyPair = keyPairGen.generateKeyPair();\t\t\t//生成密钥对\t\n\t\t\nString str=\"我是被签名的数据\";\nSystem.out.println(\"数据:\"+str);\n\t\t\n//签名\nSignature signature=Signature.getInstance(SIGNATURE);此类需要导入java 自带的包 而非BC\nsignature.initSign(keyPair.getPrivate());\nsignature.update(str.getBytes());\nbyte[] data=signature.sign();\nSystem.out.println(\"签名:\"+new String(Hex.encode(data)));\n\t\t\n//验证\nsignature=Signature.getInstance(SIGNATURE);\nsignature.initVerify(keyPair.getPublic());\nsignature.update(str.getBytes());\nif(signature.verify(data))\n{\n\tSystem.out.println(\"验证:pass\");\n}\nelse\n{\n\tSystem.out.println(\"验证:no pass\");\n}\n\t\t\n\t\t\n/*---------------我是无奈的分割线--------------*/\t\n\t\t\nstr=\"我是被修改过的签名的数据\";\nSystem.out.println(\"数据:\"+str);\nsignature.initVerify(keyPair.getPublic());\nsignature.update(str.getBytes());\nif(signature.verify(data))\n{\n\tSystem.out.println(\"验证:pass\");\n}\nelse\n{\n\tSystem.out.println(\"验证:no pass\");\n}\n}\n\u003c/pre\u003e"