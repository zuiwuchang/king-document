var __v="\u003cpre class=\"prettyprint linenums\"\u003eimport com.sun.mail.util.MailSSLSocketFactory;\nimport java.io.UnsupportedEncodingException;\nimport java.security.GeneralSecurityException;\nimport java.util.Properties;\nimport javax.mail.Authenticator;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.PasswordAuthentication;\n\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\npublic class JavaApplication {\n    public static void main(String[] args) throws MessagingException, UnsupportedEncodingException, GeneralSecurityException {\t\n        final String email          =   \"zuiwuchang@gmail.com\";\n        final String password       =   \"*******************\";\n        final String target_email   =   \"zuiwuchang@hotmail.com\";\n            \n        Properties props = new Properties();\n        //啟用驗證\n        props.setProperty(\"mail.smtp.auth\", \"true\"); \n        //設置 smtp 服務器地址\n        props.setProperty(\"mail.smtp.host\", \"smtp.gmail.com\"); \n        props.setProperty(\"mail.smtp.port\", \"465\");\n        \n        //創建SSL連接工廠\n        MailSSLSocketFactory sf = new MailSSLSocketFactory();\n        sf.setTrustAllHosts(true);\n        //設置 SSL 信息\n        props.put(\"mail.smtp.ssl.enable\", \"true\");\n        props.put(\"mail.smtp.ssl.socketFactory\", sf);\n        \n        props.setProperty(\"mail.imap.ssl.socketFactory.fallback\", \"false\");\n        props.setProperty(\"mail.smtp.socketFactory.port\", \"465\");\n        \n        //建立連接\n        Authenticator auth = new Authenticator() {\n            @Override\n            protected PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(email, password);\n            }\n        };\n        Session session = Session.getInstance(props, auth);\n        \n        MimeMessage message = new MimeMessage(session);\n        message.setSubject(\"郵件標題\");\n        message.setText(\"郵件正文\");\n         \n        message.setFrom(new InternetAddress(email));\n        message.setRecipients(Message.RecipientType.TO,InternetAddress.parse(target_email));\n        \n        //發送email\n        Transport.send(message);  \n         \n        System.out.println(\"email sent success\");\n    }\n}\u003c/pre\u003e"