var __v="\n\u003cpre class='prettyprint linenums'\u003e//通过 SetUnhandledExceptionFilter 保存是否被调试\n\tBOOL static_is_debug; \n\t//保存原未处理异常 处理函数\n\tLPTOP_LEVEL_EXCEPTION_FILTER lp_old_exception;\n\t//自定义未处理异常 处理函数\n\tLONG WINAPI CDialogRing3::myUnhandledExceptionFilter(_EXCEPTION_POINTERS* ExceptionInfo);\n    \n    回调\nLONG WINAPI CDialogRing3::myUnhandledExceptionFilter(_EXCEPTION_POINTERS* ExceptionInfo)\n{\n\t//恢复原回调\n\tSetUnhandledExceptionFilter(lp_old_exception);\n\n\t//修改EXCEPTION_CONTINUE_EXECUTION返回地址\n\tExceptionInfo-\u0026gt;ContextRecord-\u0026gt;Eip+=1;\n\t//设置未被调试标志\n    static_is_debug=FALSE;\t\t\n    //返回eip继续执行\n\treturn EXCEPTION_CONTINUE_EXECUTION;\n}\n    \n    触发断点\n    static_is_debug=TRUE;\n\tlp_old_exception=SetUnhandledExceptionFilter(myUnhandledExceptionFilter);\n\t__asm\n\t{\n\t\tint 3;\n\t}\n\tCString tmp;\n\ttmp.Format(L\"%d\",static_is_debug);\n\tMessageBox(tmp);\u003c/pre\u003e"