var __v="\u003cpre class=\"prettyprint linenums\"\u003e//算法名称\nfinal String ALGORITHM=\"PBEwithMD5andDES\";\t\n//盐迭代加入次数\nfinal int SALT_COUNT=100;\n\t\t\nString str=\"this is PBE\";\nString password=\"this is my password\";\nSystem.out.println(\"原文:\"+str);\n\t\t\n//初始化盐\nbyte[] salt=SecureRandom.getSeed(8);\nSystem.out.println(\"加盐:\"+new String(Hex.encode(salt)));\n\t\t\n//生成密钥\nPBEKeySpec keySpec=new PBEKeySpec(password.toCharArray());\nSecretKeyFactory keyFactory=SecretKeyFactory.getInstance(ALGORITHM);\nSecretKey secretKey=keyFactory.generateSecret(keySpec);\n\t\t\n//加密\nPBEParameterSpec paramSpec=new PBEParameterSpec(salt,SALT_COUNT);\nCipher cipher=Cipher.getInstance(ALGORITHM);\ncipher.init(Cipher.ENCRYPT_MODE, secretKey,paramSpec);\nbyte[] data=cipher.doFinal(str.getBytes());\nSystem.out.println(\"密文:\"+new String(Hex.encode(data)));\n\t\t\n//解密\n//PBEParameterSpec paramSpec=new PBEParameterSpec(salt,SALT_COUNT);\ncipher=Cipher.getInstance(ALGORITHM);\ncipher.init(Cipher.DECRYPT_MODE, secretKey,paramSpec);\ndata=cipher.doFinal(data);\nSystem.out.println(\"解密:\"+new String(data));\u003c/pre\u003e"