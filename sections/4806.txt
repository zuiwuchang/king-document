var __v="\u003cpre class='k-pre'\u003esync.Once 型別的 Do方法 用於 在多個goroutine中 只執行一次\u003c/pre\u003e\n\u003cpre class='prettyprint linenums'\u003epackage main\n \nimport (\n\t\"fmt\"\n\t\"sync\"\n)\n \nvar once sync.Once\n \nfunc work(i int, ch chan int32) {\n\tonce.Do(func() {\n\t\tfmt.Println(\"only once\")\n\t})\n \n\tfmt.Println(i)\n\tch \u0026lt;- 0\n}\nfunc main() {\n\tcount := 5\n\tch := make(chan int32, 4)\n\tfor i := 0; i \u0026lt; count; i++ {\n\t\tgo work(i, ch)\n\t}\n \n\tfor count \u0026gt; 0 {\n\t\t\u0026lt;-ch\n\t\tcount -= 1\n\t}\n}\u003c/pre\u003e"