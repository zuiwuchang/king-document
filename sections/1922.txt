var __v="\n\u003cpre class='prettyprint linenums'\u003e#include \u0026lt;iostream\u0026gt;\n\n#include\u0026lt;boost/lexical_cast.hpp\u0026gt;\n\n#include\u0026lt;Poco/Data/SQLite/Connector.h\u0026gt;\n#include\u0026lt;Poco/Data/SQLite/SQLiteException.h\u0026gt;\n#include\u0026lt;Poco/Data/Common.h\u0026gt;\n#include\u0026lt;Poco/Data/RecordSet.h\u0026gt;\n\n#include\u0026lt;Poco/Data/SQLite/SessionImpl.h\u0026gt;\n\n\nint main()\n{\n    //註冊SQLite連接器\n\tPoco::Data::SQLite::Connector::registerConnector();\n\n\ttry\n\t{\n\t\t//連接到數據庫\n\t\tPoco::Data::Session  session(Poco::Data::SQLite::Connector::KEY\t//std::string 指明數據庫種類\n\t\t\t,\"test.db\"\t//連接字符串\n\t\t\t);\n\n\t\t//設置密碼\n\t\tPoco::Data::SQLite::SessionImpl* s = (Poco::Data::SQLite::SessionImpl*)session.impl();\n\t\ts-\u0026gt;sqlite3_key(\"123\",3);\n\n\t\t//修改密碼\n\t\t//s-\u0026gt;sqlite3_rekey(\"123\",3);\n\n\t\t//創建表\n\t\tsession\u0026lt;\u0026lt;\"create table if not exists test (id int,name varchar(20))\",Poco::Data::now;\n\n\t\t//插入數據\n\t\tstd::vector\u0026lt;int\u0026gt; ids;\n\t\tstd::vector\u0026lt;std::string\u0026gt; names;\n\t\tstd::string name;\n\n\t\t//查詢數據\n\t\tids.clear();\n\t\tnames.clear();\n\t\tsession\u0026lt;\u0026lt;\"select * from test\",Poco::Data::into(ids),Poco::Data::into(names),Poco::Data::now;\n\t\tfor(unsigned i=0;i\u0026lt;ids.size();++i)\n\t\t{\n\t\t\tstd::cout\u0026lt;\u0026lt;\"id\\t=\\t\"\u0026lt;\u0026lt;ids[i]\u0026lt;\u0026lt;\"\\t\\tname\\t=\\t\"\u0026lt;\u0026lt;names[i]\u0026lt;\u0026lt;\"\\n\";\n\t\t}\n\n\t}\n\tcatch(Poco::Data::SQLite::InvalidSQLStatementException\u0026amp; e)\n\t{\n\t\tstd::cout\u0026lt;\u0026lt;e.displayText()\u0026lt;\u0026lt;std::endl;\n\t}\n\tcatch(Poco::Data::SQLite::CorruptImageException\u0026amp; e)\n\t{\n\t\tstd::cout\u0026lt;\u0026lt;e.displayText()\u0026lt;\u0026lt;std::endl;\n\t}\n\n\n\t//卸載SQLite連接器\n\tPoco::Data::SQLite::Connector::unregisterConnector();\n\n\treturn 0;\n}\u003c/pre\u003e"