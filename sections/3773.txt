var __v="\n\u003cpre class='prettyprint linenums'\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;dlfcn.h\u0026gt;\n\nint main()\n{\n\t//加載 動態庫\n\t//RTLD_NOW\t立刻把所有 函數 加載到內存\n\t//RTLD_LAZY\t直到調用 dlsym  才把 相應 函數 加載到內存\n\tvoid* handle = dlopen(\"liblibmyso.so\",RTLD_LAZY);\n\tif(!handle)\n\t{\n\t\tstd::cout\u0026lt;\u0026lt;dlerror()\u0026lt;\u0026lt;std::endl;\n\t\treturn 1;\n\t}\n\n\ttypedef int (*add_ft)(int, int);\n\tadd_ft add = (add_ft)(dlsym(handle,\"SampleAddInt\"));\n\tif(!add)\n\t{\n\t\tstd::cout\u0026lt;\u0026lt;dlerror()\u0026lt;\u0026lt;std::endl;\n\t\treturn 1;\n\t}\n\n\tstd::cout\u0026lt;\u0026lt;\"1 + 2 = \"\u0026lt;\u0026lt;add(1,2)\u0026lt;\u0026lt;std::endl;\n\n\t//釋放 動態庫\n\tdlclose(handle);\n    return 0;\n}\n\u003c/pre\u003e"