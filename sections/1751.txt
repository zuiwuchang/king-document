var __v="\n\u003cpre class='prettyprint linenums'\u003e#include \"myEmptyValidator.h\"\n#include \u0026lt;wx/combo.h\u0026gt;\n\nIMPLEMENT_CLASS(myEmptyValidator, wxValidator)\n\nmyEmptyValidator::myEmptyValidator(wxString* val,\n\tconst wxString\u0026amp; emsg,\n\tconst wxString\u0026amp; title)\n    :_val(val),_emsg(emsg),_title(title)\n{\n    //ctor\n}\n\nmyEmptyValidator::~myEmptyValidator()\n{\n    //dtor\n}\nmyEmptyValidator::myEmptyValidator(const myEmptyValidator\u0026amp; copy)\n{\n    Copy(copy);\n}\n\nbool myEmptyValidator::TransferToWindow()\n{\n    if(!_val)\n    {\n        return true;\n    }\n\n    wxTextEntry* text = GetTextEntry();\n    if(!text)\n    {\n        return false;\n    }\n\n    text-\u0026gt;SetValue(\n        _val-\u0026gt;Trim().Trim(false)\n    );\n\n    return true;\n}\nbool myEmptyValidator::Validate(wxWindow *parent)\n{\n    wxTextEntry* text = GetTextEntry();\n    if(!text)\n    {\n        return false;\n    }\n\n    wxString val = text-\u0026gt;GetValue();\n    val.Trim().Trim(false);\n    if(val.IsEmpty())\n    {\n        m_validatorWindow-\u0026gt;SetFocus();\n        wxMessageBox(_emsg, _title,\n                     wxOK | wxICON_EXCLAMATION, parent);\n        return false;\n    }\n\n    return true;\n}\nbool myEmptyValidator::TransferFromWindow()\n{\n    if(!_val)\n    {\n        return true;\n    }\n\n    wxTextEntry* text = GetTextEntry();\n    if(!text)\n    {\n        return false;\n    }\n\n    *_val = text-\u0026gt;GetValue().Trim().Trim(false);\n    return true;\n}\n\nwxTextEntry* myEmptyValidator::GetTextEntry()\n{\n#if wxUSE_TEXTCTRL\n    if (wxDynamicCast(m_validatorWindow, wxTextCtrl))\n    {\n        return (wxTextCtrl*)m_validatorWindow;\n    }\n#endif\n\n#if wxUSE_COMBOBOX\n    if (wxDynamicCast(m_validatorWindow, wxComboBox))\n    {\n        return (wxComboBox*)m_validatorWindow;\n    }\n#endif\n\n#if wxUSE_COMBOCTRL\n    if (wxDynamicCast(m_validatorWindow, wxComboCtrl))\n    {\n        return (wxComboCtrl*)m_validatorWindow;\n    }\n#endif\n\n    wxFAIL_MSG(\n        \"wxTextValidator can only be used with wxTextCtrl, wxComboBox, \"\n        \"or wxComboCtrl\"\n    );\n\n    return NULL;\n}\u003c/pre\u003e"