var __v="\n\u003cpre class='prettyprint linenums'\u003eboost::once_flag flag\t=\tBOOST_ONCE_INIT;\n\nvoid once_fun()\n{\n\tputs(\"once_fun\");\n\tboost::this_thread::sleep(boost::posix_time::seconds(5));\n}\nvoid work_thread()\n{\n\tboost::call_once(flag,once_fun);\n\n\tputs(\"thread\");\n}\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n\tboost::thread_group tg;\n\tfor(int i=0;i\u0026lt;5;++i)\n\t{\n\t\ttg.create_thread(work_thread);\n\t}\n\ttg.join_all();\n\n\tstd::system(\"pause\");\n\treturn 0;\n}\n\u003c/pre\u003e"