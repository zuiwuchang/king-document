var __v="\n\u003cpre class='prettyprint linenums'\u003epackage main\n\nimport (\n\t\"fmt\"\n\t\"reflect\"\n\t\"unsafe\"\n)\n\n//字符串 轉 []byte\nfunc StringToBytes(str string) []byte {\n\t//獲取 字符串 頭\n\tstrHeader := (*reflect.StringHeader)(unsafe.Pointer(\u0026amp;str))\n\n\t//創建 slice\n\tvar b []byte\n\t//獲取 slice 頭\n\tsliceHeader := (*reflect.SliceHeader)(unsafe.Pointer(\u0026amp;b))\n\t//設置 屬性\n\tsliceHeader.Data = strHeader.Data\n\tsliceHeader.Len = strHeader.Len\n\tsliceHeader.Cap = strHeader.Len\n\n\treturn b\n}\n\n//[]byte 轉 字符串\nfunc BytesToString(b []byte) string {\n\t//獲取 slice 頭\n\tsliceHeader := (*reflect.SliceHeader)(unsafe.Pointer(\u0026amp;b))\n\n\t//創建 string\n\tvar str string\n\n\t//獲取 字符串 頭\n\tstrHeader := (*reflect.StringHeader)(unsafe.Pointer(\u0026amp;str))\n\n\t//設置 屬性\n\tstrHeader.Data = sliceHeader.Data\n\tstrHeader.Len = sliceHeader.Len\n\treturn str\n}\nfunc main() {\n\t//to []byte\n\tstr := \"12345678\"\n\tb := StringToBytes(str)\n\n\t//b[0] = 50 //錯誤 str 是 const 的只讀內存 無法 寫入\n\tfmt.Println(str, b) //12345678\n\n\t//to []byte\n\tstr = fmt.Sprintf(\"123%v\", 45678)\n\tb = StringToBytes(str)\n\tb[0] = 50           //可寫\n\tfmt.Println(str, b) //12345678\n\n\t//to string\n\tb = []byte(str)\n\tstr = BytesToString(b)\n\tb[0] = 50           //可寫\n\tfmt.Println(str, b) //22345678\n\n\t//slice\n\tarrs := make([]uint16, 2, 4)\n\tsliceHeader := (*reflect.SliceHeader)(unsafe.Pointer(\u0026amp;arrs))\n\tfmt.Println(sliceHeader.Len, sliceHeader.Cap) //2,4\n}\n\u003c/pre\u003e"