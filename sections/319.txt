var __v="\u003cpre class=\"prettyprint linenums\"\u003epackage main\n\nimport (\n\t\"log\"\n\t\"net\"\n\t\"net/rpc\"\n\t\"net/rpc/jsonrpc\"\n)\n\ntype Pair struct {\n\tFirst, Second int\n}\n\ntype MyNumber struct {\n}\n\nfunc (n *MyNumber) Add(pair *Pair, sum *int) error {\n\t*sum = pair.First + pair.Second\n\tlog.Printf(\"%v=%v+%v\\n\", *sum, pair.First, pair.Second)\n\treturn nil\n}\nfunc main() {\n\t//監聽端口\n\tsrv, e := net.Listen(\"tcp\", \":9090\")\n\tif e != nil {\n\t\tlog.Fatal(e)\n\t}\n\n\t//新的rpc\n\tsrv_rpc := rpc.NewServer()\n\n\t//註冊rpc函數\n\tmy := \u0026amp;MyNumber{}\n\tsrv_rpc.Register(my)\n\n\t//路由rpc\n\tfor {\n\t\tconn, e := srv.Accept()\n\t\tif e != nil {\n\t\t\tlog.Fatal(e)\n\t\t}\n\t\t//響應rpc請求\n\t\tgo srv_rpc.ServeCodec(jsonrpc.NewServerCodec(conn))\n\t}\n}\u003c/pre\u003e"