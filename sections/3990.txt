var __v="\u003col\u003e\n\t\u003cli\u003e創建 一個 FaceTemplate  只是 在 腳本中 增加一個 函數 用於從腳本 初始化屬性 init\n\u003cpre class='prettyprint linenums'\u003ecc.Class({\n    extends: cc.Component,\n\n    properties: {\n        Name:\"\",\n        Face:cc.SpriteFrame,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        var node = this.node;\n        \n        //初始化 name\n        var nodeName = node.getChildByName(\"Name\");\n        var componentName = nodeName.getComponent(cc.Label);\n        componentName.string = this.Name;\n        \n        //初始化 頭像\n        var nodeFace = node.getChildByName(\"Face\");\n        var componentFace = nodeFace.getComponent(cc.Sprite);\n        componentFace.spriteFrame = this.Face;\n    },\n    //使用腳本 進行 初始化\n    init:function(data){\n        var node = this.node;\n        \n        //初始化 name\n        var nodeName = node.getChildByName(\"Name\");\n        var componentName = nodeName.getComponent(cc.Label);\n        componentName.string = data.Name;\n        \n        //初始化 頭像\n        var nodeFace = node.getChildByName(\"Face\");\n        var componentFace = nodeFace.getComponent(cc.Sprite);\n        componentFace.spriteFrame = data.Face;\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\u003c/pre\u003e\n\t\u003c/li\u003e\n\t\u003cli\u003e創建 FacesTemplate 被爲其創建組件 腳本\u003cpre class='prettyprint linenums'\u003e//定義一個 class 用於描述 列表 節點\nvar Face = cc.Class({\n    name: 'Face',\n    properties: {\n        Name: '',\n        Face: cc.SpriteFrame,\n    },\n});\n\n//定義組件\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        //爲屬性管理器 添加數組\n        Faces: {\n            default: [],\n            type: Face,\n        },\n        //爲屬性管理器 添加節點模板\n        Template: cc.Prefab,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        var node = this.node;\n        //遍歷 Faces 設置 動態創建 節點\n        for (var i = 0; i \u0026lt; this.Faces.length; ++i) {\n            //創建一個 Face 模板的 副本\n            var face = cc.instantiate(this.Template);\n            \n            //將模板 添加到子節點\n            node.addChild(face);\n            \n            //**** 必須先添加到子節點 後初始化 模板\n            \n            //初始化 模板\n            var data = this.Faces[i];\n            var component = face.getComponent('FaceTemplate');\n            component.init({\n                Name: data.Name,\n                Face: data.Face,\n            });\n        }\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n});\n\u003c/pre\u003e\u003c/li\u003e\n\n\t\u003cli\u003e將 FacesTemplate 保存到資源管理器中(如果需要作爲控件的化)\u003c/li\u003e\n\u003c/ol\u003e"