var __v="\u003cpre class=\"prettyprint linenums\"\u003epackage main\n\nimport (\n\t\"archive/zip\"\n\t\"fmt\"\n\t\"io\"\n\t\"os\"\n)\n\nfunc main() {\n\t//創建zip包\n\tf, e := os.Create(\"test.zip\")\n\tif e != nil {\n\t\tfmt.Println(e)\n\t\treturn\n\t}\n\tdefer f.Close()\n\n\t//返回 *Writer\n\tw := zip.NewWriter(f)\n\tdefer w.Close()\n\n\t//打包文件\n\tAddFile(w, \"1\")\n\tAddFile(w, \"2\")\n\tAddFile(w, \"3\")\n}\nfunc AddFile(zipw *zip.Writer, filename string) {\n\t//打開要打包的文件\n\tf, e := os.Open(filename)\n\tif e != nil {\n\t\tfmt.Println(e)\n\t\treturn\n\t}\n\tdefer f.Close()\n\n\t//返回文件信息\n\tinfo, e := f.Stat()\n\tif e != nil {\n\t\tfmt.Println(e)\n\t\treturn\n\t}\n\n\t//返回zip文件頭\n\theader, e := zip.FileInfoHeader(info)\n\tif e != nil {\n\t\tfmt.Println(e)\n\t\treturn\n\t}\n\t//創建zip文件頭\n\tw, e := zipw.CreateHeader(header)\n\tif e != nil {\n\t\tfmt.Println(e)\n\t\treturn\n\t}\n\n\t//寫入數據\n\t_, e = io.Copy(w, f)\n\tif e != nil {\n\t\tfmt.Println(e)\n\t\treturn\n\t}\n}\u003c/pre\u003e"