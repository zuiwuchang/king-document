var __v="\n\u003cpre class='prettyprint linenums'\u003e//創建 網格\nD3DXCreateMeshFVF(2 * 6\t\t//12個面\n\t,4 * 6\t\t\t\t\t//24個點\n\t,D3DXMESH_MANAGED\n\t,d3dx::Vertex::FVF\n\t,device_ptr\n\t,\u0026amp;mesh_ptr_\n\t);\n\n//寫入點數據\nd3dx::Vertex* vertexs_ptr;\nmesh_ptr_-\u0026gt;LockVertexBuffer(0,(void**)\u0026amp;vertexs_ptr);\n\nvertexs_ptr[0]\t=\td3dx::Vertex(D3DXVECTOR3(0,1,-1),D3DXVECTOR3(0,0,-1),D3DXVECTOR2(0,0));\nvertexs_ptr[1]\t=\td3dx::Vertex(D3DXVECTOR3(0,0,-1),D3DXVECTOR3(0,0,-1),D3DXVECTOR2(0,1));\nvertexs_ptr[2]\t=\td3dx::Vertex(D3DXVECTOR3(1,0,-1),D3DXVECTOR3(0,0,-1),D3DXVECTOR2(1,1));\nvertexs_ptr[3]\t=\td3dx::Vertex(D3DXVECTOR3(1,1,-1),D3DXVECTOR3(0,0,-1),D3DXVECTOR2(1,0));\n\nvertexs_ptr[4]\t=\td3dx::Vertex(D3DXVECTOR3(1,1,-1),D3DXVECTOR3(1,0,0),D3DXVECTOR2(0,0));\nvertexs_ptr[5]\t=\td3dx::Vertex(D3DXVECTOR3(1,0,-1),D3DXVECTOR3(1,0,0),D3DXVECTOR2(0,1));\nvertexs_ptr[6]\t=\td3dx::Vertex(D3DXVECTOR3(1,0,0),D3DXVECTOR3(1,0,0),D3DXVECTOR2(1,1));\nvertexs_ptr[7]\t=\td3dx::Vertex(D3DXVECTOR3(1,1,0),D3DXVECTOR3(1,0,0),D3DXVECTOR2(1,0));\n\n\nvertexs_ptr[8]\t=\td3dx::Vertex(D3DXVECTOR3(0,1,0),D3DXVECTOR3(-1,0,0),D3DXVECTOR2(0,0));\nvertexs_ptr[9]\t=\td3dx::Vertex(D3DXVECTOR3(0,0,0),D3DXVECTOR3(-1,0,0),D3DXVECTOR2(0,1));\nvertexs_ptr[10]\t=\td3dx::Vertex(D3DXVECTOR3(0,0,-1),D3DXVECTOR3(-1,0,0),D3DXVECTOR2(1,1));\nvertexs_ptr[11]\t=\td3dx::Vertex(D3DXVECTOR3(0,1,-1),D3DXVECTOR3(-1,0,0),D3DXVECTOR2(1,0));\n\nvertexs_ptr[12]\t=\td3dx::Vertex(D3DXVECTOR3(0,0,0),D3DXVECTOR3(0,-1,0),D3DXVECTOR2(0,0));\nvertexs_ptr[13]\t=\td3dx::Vertex(D3DXVECTOR3(0,0,-1),D3DXVECTOR3(0,-1,0),D3DXVECTOR2(0,1));\nvertexs_ptr[14]\t=\td3dx::Vertex(D3DXVECTOR3(1,0,-1),D3DXVECTOR3(0,-1,0),D3DXVECTOR2(1,1));\nvertexs_ptr[15]\t=\td3dx::Vertex(D3DXVECTOR3(1,0,0),D3DXVECTOR3(0,-1,0),D3DXVECTOR2(1,0));\n\n\nvertexs_ptr[16]\t=\td3dx::Vertex(D3DXVECTOR3(0,1,0),D3DXVECTOR3(0,1,0),D3DXVECTOR2(0,0));\nvertexs_ptr[17]\t=\td3dx::Vertex(D3DXVECTOR3(0,1,-1),D3DXVECTOR3(0,1,0),D3DXVECTOR2(0,1));\nvertexs_ptr[18]\t=\td3dx::Vertex(D3DXVECTOR3(1,1,-1),D3DXVECTOR3(0,1,0),D3DXVECTOR2(1,1));\nvertexs_ptr[19]\t=\td3dx::Vertex(D3DXVECTOR3(1,1,0),D3DXVECTOR3(0,1,0),D3DXVECTOR2(1,0));\n\nvertexs_ptr[20]\t=\td3dx::Vertex(D3DXVECTOR3(0,1,0),D3DXVECTOR3(0,0,1),D3DXVECTOR2(0,0));\nvertexs_ptr[21]\t=\td3dx::Vertex(D3DXVECTOR3(0,0,0),D3DXVECTOR3(0,0,1),D3DXVECTOR2(0,1));\nvertexs_ptr[22]\t=\td3dx::Vertex(D3DXVECTOR3(1,0,0),D3DXVECTOR3(0,0,1),D3DXVECTOR2(1,1));\nvertexs_ptr[23]\t=\td3dx::Vertex(D3DXVECTOR3(1,1,0),D3DXVECTOR3(0,0,1),D3DXVECTOR2(1,0));\n\nmesh_ptr_-\u0026gt;UnlockVertexBuffer();\n\n//寫入索引數據\nWORD* index_ptr;\nmesh_ptr_-\u0026gt;LockIndexBuffer(0,(void**)\u0026amp;index_ptr);\n\nindex_ptr[0]\t=\t2;\nindex_ptr[1]\t=\t1;\nindex_ptr[2]\t=\t0;\nindex_ptr[3]\t=\t3;\nindex_ptr[4]\t=\t2;\nindex_ptr[5]\t=\t0;\n\nindex_ptr[6]\t=\t6;\nindex_ptr[7]\t=\t5;\nindex_ptr[8]\t=\t4;\nindex_ptr[9]\t=\t7;\nindex_ptr[10]\t=\t6;\nindex_ptr[11]\t=\t4;\n\n\nindex_ptr[12]\t=\t10;\nindex_ptr[13]\t=\t9;\nindex_ptr[14]\t=\t8;\nindex_ptr[15]\t=\t11;\nindex_ptr[16]\t=\t10;\nindex_ptr[17]\t=\t8;\n\nindex_ptr[18]\t=\t12;\nindex_ptr[19]\t=\t13;\nindex_ptr[20]\t=\t14;\nindex_ptr[21]\t=\t12;\nindex_ptr[22]\t=\t14;\nindex_ptr[23]\t=\t15;\n\n\nindex_ptr[24]\t=\t18;\nindex_ptr[25]\t=\t17;\nindex_ptr[26]\t=\t16;\nindex_ptr[27]\t=\t19;\nindex_ptr[28]\t=\t18;\nindex_ptr[29]\t=\t16;\n\nindex_ptr[30]\t=\t20;\nindex_ptr[31]\t=\t21;\nindex_ptr[32]\t=\t22;\nindex_ptr[33]\t=\t20;\nindex_ptr[34]\t=\t22;\nindex_ptr[35]\t=\t23;\n\nmesh_ptr_-\u0026gt;UnlockIndexBuffer();\n\n//寫入子集屬性id\nDWORD* ids_ptr;\nmesh_ptr_-\u0026gt;LockAttributeBuffer(0,\u0026amp;ids_ptr);\nint i=0;\nfor(;i\u0026lt;4;++i)\n{\n\tids_ptr[i]\t=\t0;\n}\nfor(i=0;i\u0026lt;4;++i)\n{\n\tids_ptr[i + 4]\t=\t1;\n}\nfor(i=0;i\u0026lt;4;++i)\n{\n\tids_ptr[i + 4 * 2]\t=\t2;\n}\n\nmesh_ptr_-\u0026gt;UnlockAttributeBuffer();\n\n//創建紋理\ntextures_[D3DX_BOX_TEXTURE_0]\t=\tCreateTexture(L\"..\\\\source\\\\checker.jpg\");\ntextures_[D3DX_BOX_TEXTURE_1]\t=\tCreateTexture(L\"..\\\\source\\\\brick0.jpg\");\ntextures_[D3DX_BOX_TEXTURE_2]\t=\tCreateTexture(L\"..\\\\source\\\\brick1.jpg\");\n\n//設置材質\nmaterials_[D3DX_BOX_TEXTURE_0]\t=\td3dx::white_material;\n\n\n\n//繪製\nfor(int i=0;i\u0026lt;D3DX_BOX_ATTRIB_COUNT;++i)\n{\n\tdevice_ptr_-\u0026gt;SetTexture(0,textures_[i].get());\n\tmesh_ptr_-\u0026gt;DrawSubset(i);\n}\u003c/pre\u003e"