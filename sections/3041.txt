var __v="\n\u003cpre class='prettyprint linenums'\u003e#include \u0026lt;iostream\u0026gt;\n#include \u0026lt;zlib/zlib.h\u0026gt;\n#include \u0026lt;cstdio\u0026gt;\nint main()\n{\n\tFILE* f = fopen(\"/home/king/program/project/c++/test_zlib/a\",\"rb\");\n\tif(!f)\n\t{\n\t\tputs(\"can not open file\");\n\t\treturn 0;\n\t}\n\n\tconst std::size_t BUFFER_SIZE = 1024;\n\tchar buffer[BUFFER_SIZE];\n\tulong crc = 0;\n\twhile(true)\n\t{\n\t\tstd::size_t size = fread(buffer,sizeof(char),BUFFER_SIZE,f);\n\t\tif(!size)\n\t\t{\n\t\t\tbreak;\n\t\t}\n\n\t\t//計算crc32\n\t\tcrc = crc32(crc,(const Bytef*)buffer,size);\n\t}\n\tfclose(f);\n\n\tstd::cout\u0026lt;\u0026lt;std::hex\u0026lt;\u0026lt;crc\u0026lt;\u0026lt;\"\\n\";\n    return 0;\n}\n\u003c/pre\u003e"