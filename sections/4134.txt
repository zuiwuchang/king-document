var __v="\n\u003cpre class='prettyprint linenums'\u003e\u0026lt;script type=\"text/javascript\"\u0026gt;\n$(document).ready(function() {\n\t$(\"#idANewFolder\").click(function(){\n\t\tvar state = 'folder';\n\t\twindow.history.pushState(state, null, \"?id=\" + state);\n\t\t$(\"#idView\").text(state);\n\t});\n\t$(\"#idANewFile\").click(function(){\n\t\tvar state = 'file';\n\t\twindow.history.pushState(state, null, \"?id=\" + state);\n\t\t$(\"#idView\").text(state);\n\t});\n\twindow.addEventListener(\"popstate\", function(e) {\n\t\t//state 爲 pushState 傳入的 第一個參數\n\t\tvar state = e.state;\n\t\tif(!state){//state 不存在 則url 不是通過 pushState 無需處理\n\t\t\treturn;\n\t\t}\n\n\t\t//更新 ajax 內容\n\t\t$(\"#idView\").text(state);\n\t});\n});\n\u0026lt;/script\u0026gt;\u003c/pre\u003e"