var __v="\u003cpre class=\"k-pre\"\u003eZwQuerySystemInformation第二個參數傳入SystemProcessesAndThreadsInformation=5\n\n//SystemProcessesAndThreadsInformation 返回的結構\ntypedef struct _SYSTEM_PROCESS_INFORMATION{\n DWORD  NextEntryDelta;\t\t\t\t//下一個進程的SYSTEM_PROCESS_INFORMATION 與當前SYSTEM_PROCESS_INFORMATION的偏移 byte\n DWORD  ThreadCount;\t\t\t\t//線程數\n DWORD  Reserved1[6];\n FILETIME ftCreateTime;\n FILETIME ftUserTime;\n FILETIME ftKernelTime;\n UNICODE_STRING ProcessName;\t\t//進程名\n DWORD  BasePriority;\n DWORD  ProcessId;\t\t\t\t\t//進程id\n DWORD  InheritedFromProcessId;\t\t\n DWORD  HandleCount;\t\t\t\t//句柄數\n DWORD  Reserved2[2];\n DWORD  VmCounters;\n DWORD  dCommitCharge;\n PVOID  ThreadInfos[1];\n}SYSTEM_PROCESS_INFORMATION, *PSYSTEM_PROCESS_INFORMATION;\n\u003c/pre\u003e"