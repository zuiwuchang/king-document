var __v="\n\u003cpre class='prettyprint linenums'\u003e//定義一個 3 個thread的約會\nboost::barrier br(3);\nboost::mutex m;\n\ntemplate\u0026lt;int N\u0026gt;\nvoid work_thread()\n{\n\t{\n\t\tboost::mutex::scoped_lock sl(m);\n\t\tstd::cout\u0026lt;\u0026lt;\"this is work_htread_\"\u0026lt;\u0026lt;N\u0026lt;\u0026lt;\"\\nwait...\\n\";\n\t}\n\t\n\tboost::this_thread::sleep(boost::posix_time::seconds(N));\n\t//約會地點\n\tbr.wait();\n\t\n\t{\n\t\tboost::mutex::scoped_lock sl(m);\n\t\tstd::cout\u0026lt;\u0026lt;\"this is work_htread_\"\u0026lt;\u0026lt;N\u0026lt;\u0026lt;\"\\nend...\\n\";\t\n\t}\n}\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n\tboost::thread_group tg;\n\ttg.create_thread(work_thread\u0026lt;1\u0026gt;);\n\ttg.create_thread(work_thread\u0026lt;2\u0026gt;);\n\ttg.create_thread(work_thread\u0026lt;3\u0026gt;);\n\ttg.join_all();\n\n\tstd::system(\"pause\");\n\treturn 0;\n}\u003c/pre\u003e"