var __v="\u003cpre class=\"k-pre\"\u003e\u003cstrong\u003e*.xml\u003c/strong\u003e\n\u003cpre class='prettyprint linenums'\u003e\u0026lt;conf\u0026gt;\n\t\u0026lt;gui\u0026gt;1\u0026lt;/gui\u0026gt;\n\t\u0026lt;theme\u0026gt;matrix\u0026lt;/theme\u0026gt;\n\t\u0026lt;urls\u0026gt;\n\t\t\u0026lt;url\u0026gt;http://www.url1.com\u0026lt;/url\u0026gt;\n\t\t\u0026lt;url\u0026gt;http://www.url2.com\u0026lt;/url\u0026gt;\n\t\t\u0026lt;url\u0026gt;http://www.url3.com\u0026lt;/url\u0026gt;\n\t\u0026lt;/urls\u0026gt;\n\t\u0026lt;clock_style\u0026gt;24\u0026lt;/clock_style\u0026gt;\n\u0026lt;/conf\u0026gt;\u003c/pre\u003e\n\n\u003cstrong\u003e*.cpp\u003c/strong\u003e\n\u003cpre class='prettyprint linenums'\u003e#include \u0026lt;boost/property_tree/ptree.hpp\u0026gt;\n#include \u0026lt;boost/property_tree/xml_parser.hpp\u0026gt;\n//#include \u0026lt;sstream\u0026gt;\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n\ttry\n\t{\n\t\t//實例化 ptree\n\t\tboost::property_tree::ptree tree;\n\n\t\t//解析 xml \n\t\tboost::property_tree::read_xml(\"test.xml\",tree);\n\t\t/*//從流解析\n\t\tstd::stringstream in;\n\t\tin\u0026lt;\u0026lt;\"\u0026lt;root\u0026gt;test\u0026lt;/root\u0026gt;\";\n\t\tboost::property_tree::read_xml(in,tree);\n\t\t*/\n\n\t\tputs(\"get 路徑訪問節點\");\n\t\tstd::cout\u0026lt;\u0026lt;\"conf.gui\\t=\\t\"\u0026lt;\u0026lt;tree.get\u0026lt;int\u0026gt;(\"conf.gui\")\n\t\t\t\u0026lt;\u0026lt;\"\\nconf.default\\t=\\t\"\u0026lt;\u0026lt;tree.get(\"conf.default\",2)\n\t\t\t\u0026lt;\u0026lt;\"\\n\"\n\t\t\t;\n\n\t\t//put 使用路徑設置節點\n\t\ttree.put(\"conf.gui\",2);\n\t\t//add 在末尾增加節點\n\t\ttree.add(\"conf.gui\",3);\n\n\t\tputs(\"get_child 獲取子節點\");\n\t\t\n\t\tBOOST_AUTO(\u0026amp;child,tree.get_child(\"conf.urls\"));\n\t\ttypedef BOOST_TYPEOF(*child.begin()) ptree_t;\n\t\tBOOST_FOREACH(ptree_t\u0026amp; var,child)\n\t\t{\n\t\t\tstd::cout\u0026lt;\u0026lt;var.first//節點名\n\t\t\t\t\u0026lt;\u0026lt;\"\\t=\\t\"\n\t\t\t\t\u0026lt;\u0026lt;var.second.get_value\u0026lt;std::string\u0026gt;()\n\t\t\t\t\u0026lt;\u0026lt;\"\\n\";\n\t\t}\n\n\t\tputs(\"find 查找子節點\");\n\t\tBOOST_AUTO(pos,child.find(\"url\"));\n\t\tif(pos\t!=\tchild.not_found())\n\t\t{\n\t\t\tstd::cout\u0026lt;\u0026lt;pos-\u0026gt;first\n\t\t\t\t\u0026lt;\u0026lt;\"\\t=\\t\"\n\t\t\t\t\u0026lt;\u0026lt;pos-\u0026gt;second.get_value\u0026lt;std::string\u0026gt;()\n\t\t\t\t\u0026lt;\u0026lt;\"\\n\";\n\t\t}\n\t\t\n\t\t//訪問 屬性 等其他內容\n\t\ttree.put(\"conf.gui.\u0026lt;xmlattr\u0026gt;.id\",123);\n\t\t\n\t\t//保存 xml\n\t\t//boost::property_tree::write_xml(\"test.xml\",tree);\n\t\tputs(\"write_xml\");\n\t\tboost::property_tree::write_xml(std::cout,tree);\n\t}\n\tcatch(const boost::property_tree::file_parser_error\u0026amp; e)\n\t{\n\t\tstd::cout\u0026lt;\u0026lt;e.what()\u0026lt;\u0026lt;std::endl;\n\t}\n\tcatch(const boost::property_tree::ptree_bad_path\u0026amp; e)\n\t{\n\t\tstd::cout\u0026lt;\u0026lt;e.what()\u0026lt;\u0026lt;std::endl;\n\t}\n\tcatch(const boost::property_tree::ptree_bad_data\u0026amp; e)\n\t{\n\t\tstd::cout\u0026lt;\u0026lt;e.what()\u0026lt;\u0026lt;std::endl;\n\t}\n\n\tstd::system(\"pause\");\n\treturn 0;\n}\u003c/pre\u003e\n\u003c/pre\u003e"