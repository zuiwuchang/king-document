var __v="\u003cpre class=\"prettyprint linenums\"\u003epackage main\n\nimport (\n\tlua \"github.com/yuin/gopher-lua\"\n\t\"log\"\n)\n\n//定義 lua 擴展 函數\nfunc luaSum(ctx *lua.LState) int {\n\tsum := lua.LNumber(0)\n\tfor i := 0; i \u0026lt; ctx.GetTop(); i++ {\n\t\t/*lv := ctx.Get(i + 1)\n\t\tif v, ok := lv.(lua.LNumber); ok {\n\t\t\tsum += v\n\t\t}*/\n\t\tsum += ctx.CheckNumber(i + 1)\n\t}\n\tctx.Push(sum)\n\treturn 1\n}\nfunc main() {\n\tctx := lua.NewState()\n\tdefer ctx.Close()\n\n\t//將 擴展函數 註冊爲 全局 變量\n\tctx.SetGlobal(\"sum\", ctx.NewFunction(luaSum))\n\n\t//lua 調用 go func\n\tif err := ctx.DoString(`local v = sum(1,2,3,4,5);print(v)`); err != nil {\n\t\tlog.Fatalln(err)\n\t}\n}\n\u003c/pre\u003e"