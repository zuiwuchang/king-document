var __v="\n\u003cpre class='prettyprint linenums'\u003e//读文件长度\nFILE_STANDARD_INFORMATION file_standard_information;\n\nif(STATUS_SUCCESS==ZwQueryInformationFile(handle_file,\u0026amp;io_status,\u0026amp;file_standard_information,sizeof(FILE_STANDARD_INFORMATION),FileStandardInformation))\n{\n\tKdPrint((\"文件长度为%d字节\\n\",file_standard_information.EndOfFile.QuadPart));\n\n}\n\n//读出文件属性 隐藏 只读等\nFILE_BASIC_INFORMATION file_basic_information;\n  \nif(STATUS_SUCCESS==ZwQueryInformationFile(handle_file,\u0026amp;io_status,\u0026amp;file_basic_information,sizeof(FILE_BASIC_INFORMATION),FileBasicInformation))\n{\n\t\n\t//修改文件属性\n\tfile_basic_information.FileAttributes=FILE_ATTRIBUTE_READONLY;//|FILE_ATTRIBUTE_READONLY|FILE_ATTRIBUTE_HIDDEN | FILE_ATTRIBUTE_SYSTEM|FILE_ATTRIBUTE_NORMAL;\n\tstatus = ZwSetInformationFile(handle_file,\u0026amp;io_status,\u0026amp;file_basic_information,sizeof(FILE_BASIC_INFORMATION),FileBasicInformation);\n\n\tif(STATUS_SUCCESS==status)\n\t{\n\t\tKdPrint((\"设置文件 属性成功 \\n\"));\n\t}\n\telse\t\n\t{\t\n\t\tKdPrint((\"设置文件 属性失败\\n\")); \n\t}  \n\n}\u003c/pre\u003e"