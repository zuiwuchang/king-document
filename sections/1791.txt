var __v="\n\u003cpre class='prettyprint linenums'\u003epackage main\n\nimport (\n\t\"fmt\"\n\t\"github.com/veandco/go-sdl2/sdl\"\n\timg \"github.com/veandco/go-sdl2/sdl_image\"\n\t\"time\"\n)\n\nconst (\n\tMAX_FPS       = 60\n\tWINDOW_WIDTH  = 640\n\tWINDOW_HEIGHT = 480\n)\n\nfunc main() {\n\t//初始化sdl\n\tsdl.Init(sdl.INIT_EVERYTHING)\n\tdefer sdl.Quit()\n\t//初始化 SDL_image\n\timg.Init(img.INIT_JPG)\n\n\t//創建窗口\n\twindow, err := sdl.CreateWindow(\"sdl go test\",\n\t\tsdl.WINDOWPOS_UNDEFINED,\n\t\tsdl.WINDOWPOS_UNDEFINED,\n\t\tWINDOW_WIDTH,\n\t\tWINDOW_HEIGHT,\n\t\tsdl.WINDOW_SHOWN)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tdefer window.Destroy()\n\n\t//創建一個 2d 繪製設備\n\trenderer, err := sdl.CreateRenderer(window, -1, 0)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tdefer renderer.Destroy()\n\n\t//加載紋理\n\ttexture, err := img.LoadTexture(renderer, \"cerberus.jpg\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tdefer texture.Destroy()\n\n\t//主邏輯循環\n\trunning := true\n\tlast := time.Now()\n\tfor running {\n\t\tfor evt := sdl.PollEvent(); evt != nil; evt = sdl.PollEvent() {\n\t\t\t//處理 sdl 事件\n\t\t\tswitch t := evt.(type) {\n\t\t\tcase *sdl.QuitEvent:\n\t\t\t\trunning = false\n\t\t\tcase *sdl.KeyDownEvent:\n\t\t\t\tfmt.Printf(\"[%d ms] Keyboard\\ttype:%d\\tsym:%c\\tmodifiers:%d\\tstate:%d\\trepeat:%d\\n\",\n\t\t\t\t\tt.Timestamp, t.Type, t.Keysym.Sym, t.Keysym.Mod, t.State, t.Repeat)\n\t\t\t}\n\t\t}\n\n\t\t//保證 fps 省略掉多餘繪製\n\t\tnow := time.Now()\n\t\tif now.Before(last.Add(time.Second / MAX_FPS)) {\n\t\t\tcontinue\n\t\t}\n\t\tlast = now\n\n\t\t/***  繪製遊戲  ***/\n\t\t//清空背景\n\t\trenderer.Clear()\n\n\t\t//繪製 元素到 renderer\n\t\trenderer.Copy(texture, nil, nil)\n\n\t\t//將 renderer 更新到屏幕\n\t\trenderer.Present()\n\t}\n}\u003c/pre\u003e"