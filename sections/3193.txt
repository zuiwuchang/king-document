var __v="\n\u003cpre class='prettyprint linenums'\u003e//鎖定緩衝區\nLPVOID ptr1,ptr2;\nDWORD size1,size2;\nif(S_OK != sound_buffer8-\u0026gt;Lock(0,0,\u0026amp;ptr1,\u0026amp;size1,\u0026amp;ptr2,\u0026amp;size2,DSBLOCK_FROMWRITECURSOR | DSBLOCK_ENTIREBUFFER))\n{\n\tthrow dark::debug::wexception(L\"鎖定緩衝區失敗\");\n}\n\n//加載數據到緩衝區\nwave.fstream.seekg(wave.wave_format.data_foa,std::ios::beg);\nwave.fstream.read((char*)ptr1,size1);\nif(ptr2)\n{\n\twave.fstream.read((char*)ptr2,size2);\n}\n\n//解鎖緩衝區\nif(S_OK != sound_buffer8-\u0026gt;Unlock(ptr1,size1,ptr2,size2))\n{\n\tthrow dark::debug::wexception(L\"解鎖緩衝區失敗\");\n}\u003c/pre\u003e"